(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7204],{20711:function(e,t,n){"use strict";var r,o,a=n(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return a.createElement("svg",_extends({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=a.createElement("g",{clipPath:"url(#calendar_svg__clip0_12357_426917)",stroke:"#5B616E",strokeWidth:2},a.createElement("path",{d:"M1 5.25c0-.699 0-1.048.114-1.324a1.5 1.5 0 01.812-.812C2.202 3 2.551 3 3.25 3h9.5c.699 0 1.048 0 1.324.114a1.5 1.5 0 01.812.812C15 4.202 15 4.551 15 5.25v7.5c0 .699 0 1.048-.114 1.324a1.5 1.5 0 01-.812.812c-.276.114-.625.114-1.324.114h-9.5c-.699 0-1.048 0-1.324-.114a1.5 1.5 0 01-.812-.812C1 13.798 1 13.449 1 12.75v-7.5zM4 0v3m8-3v3M4 7h2"}))),o||(o=a.createElement("defs",null,a.createElement("clipPath",{id:"calendar_svg__clip0_12357_426917"},a.createElement("path",{fill:"#fff",transform:"rotate(90 8 8)",d:"M0 0h16v16H0z"})))))}},24034:function(e,t,n){"use strict";var r,o=n(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return o.createElement("svg",_extends({viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.06 11.56L2.353 5.853 3.768 4.44 8.06 8.732l4.293-4.293 1.415 1.414L8.06 11.56z",fill:"currentColor"})))}},57088:function(e,t,n){"use strict";var r,o=n(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return o.createElement("svg",_extends({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{d:"M19 16l-7-7-7 7",stroke:"currentColor",strokeWidth:2})))}},70709:function(e,t,n){"use strict";var r,o,a=n(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return a.createElement("svg",_extends({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=a.createElement("g",{filter:"url(#plus_svg__filter0_i_4734_184021)"},a.createElement("path",{d:"M8 2v12m6-6H2",stroke:"currentColor",strokeWidth:2}))),o||(o=a.createElement("defs",null,a.createElement("filter",{id:"plus_svg__filter0_i_4734_184021",x:0,y:0,width:16,height:20,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dy:4}),a.createElement("feGaussianBlur",{stdDeviation:2}),a.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),a.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"}),a.createElement("feBlend",{in2:"shape",result:"effect1_innerShadow_4734_184021"})))))}},31585:function(e,t,n){"use strict";var r,o=n(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return o.createElement("svg",_extends({width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{d:"M10.876 3.007c.389-1.04 1.86-1.04 2.248 0l2.006 5.366 5.707.265c1.103.052 1.557 1.44.697 2.134l-4.47 3.6 1.512 5.547c.292 1.069-.898 1.928-1.82 1.315L12 18.08l-4.755 3.155c-.923.613-2.113-.246-1.821-1.315l1.512-5.547-4.47-3.6c-.86-.693-.406-2.082.697-2.134l5.707-.265 2.006-5.366z"})))}},44255:function(e,t,n){"use strict";var r,o=n(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return o.createElement("svg",_extends({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{d:"M10.876 3.007c.389-1.04 1.86-1.04 2.248 0l2.006 5.366 5.707.265c1.103.052 1.557 1.44.697 2.134l-4.47 3.6 1.512 5.547c.292 1.069-.898 1.928-1.82 1.315L12 18.08l-4.755 3.155c-.923.613-2.113-.246-1.821-1.315l1.512-5.547-4.47-3.6c-.86-.693-.406-2.082.697-2.134l5.707-.265 2.006-5.366z",stroke:"currentColor",strokeWidth:2,strokeLinejoin:"round"})))}},1399:function(e,t,n){"use strict";var r,o=n(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return o.createElement("svg",_extends({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{d:"M10.727 5.375c.277-.734.415-1.1.574-1.255a1 1 0 011.398 0c.159.155.297.521.574 1.255l1.335 3.542 3.782.174c.784.036 1.177.054 1.373.157a1 1 0 01.432 1.331c-.099.198-.405.443-1.02.933l-2.955 2.36 1.003 3.648c.208.756.312 1.134.275 1.353a1 1 0 01-1.131.822c-.22-.032-.547-.247-1.203-.679L12 16.936l-3.164 2.08c-.656.432-.984.647-1.203.68a1 1 0 01-1.131-.823c-.037-.219.067-.597.275-1.354l1.003-3.646-2.956-2.36c-.613-.49-.92-.736-1.019-.934a1 1 0 01.432-1.331c.196-.103.589-.12 1.373-.157l3.782-.174 1.335-3.542z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})))}},45660:function(e,t,n){"use strict";var r,o,a=n(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return a.createElement("svg",_extends({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=a.createElement("path",{d:"M15.5 16v-5m-7 5v-5M8.5 5.5a2 2 0 012-2h3a2 2 0 012 2v2h-7v-2z",stroke:"currentColor"})),o||(o=a.createElement("path",{d:"M3.5 9A1.5 1.5 0 015 7.5h14A1.5 1.5 0 0120.5 9v9a1.5 1.5 0 01-1.5 1.5H5A1.5 1.5 0 013.5 18V9z",stroke:"currentColor"})))}},71266:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r,o,a=n(24043),i=n(85893),s=n(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var arrow_up=function(e){return s.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 25 24"},e),r||(r=s.createElement("path",{stroke:"currentColor",strokeWidth:2,d:"M5.5 16l7-7 7 7"})))};function arrow_down_extends(){return(arrow_down_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var arrow_down=function(e){return s.createElement("svg",arrow_down_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 25 24"},e),o||(o=s.createElement("path",{stroke:"currentColor",strokeWidth:2,d:"M19.5 8l-7 7-7-7"})))},l=n(93967),c=n.n(l),u=(0,s.createContext)(void 0),Accordion=function(e){var t=e.children,n=e.defaultExpanded,r=e.className,o=(0,a._)((0,s.useState)(n||!1),2),l=o[0],c=o[1];return(0,i.jsx)(u.Provider,{value:{expanded:l,handleToggle:function(){c(!l)},defaultExpanded:n||!1},children:(0,i.jsx)("div",{className:r,children:t})})};Accordion.Header=function(e){var t=e.children,n=e.className,r=e.arrowDownClassName,o=e.arrowUpClassName,a=(0,s.useContext)(u),l=a.expanded,d=a.handleToggle;return(0,i.jsxs)("div",{onClick:d,className:c()("flex cursor-pointer items-center justify-between",n),children:[(0,i.jsx)("div",{children:t}),l?(0,i.jsx)(arrow_up,{className:void 0===o?"text-[#5B616E] h-6":o}):(0,i.jsx)(arrow_down,{className:void 0===r?"text-[#181C21] h-6":r})]})},Accordion.Content=function(e){var t=e.children,n=e.className,r=(0,s.useContext)(u),o=r.expanded,a=r.defaultExpanded,l=s.useRef(null),d=s.useRef(null);return(0,s.useEffect)(function(){var e,t;(null==l?void 0:null===(e=l.current)||void 0===e?void 0:e.style)&&(null==d?void 0:null===(t=d.current)||void 0===t?void 0:t.style)&&(o?d.current.clientHeight&&(l.current.style.height="".concat(d.current.clientHeight,"px")):l.current.style.height="0px")},[o]),(0,i.jsx)("div",{ref:l,className:c()(n,"overflow-hidden transition-[height] duration-200"),style:a?void 0:{height:"0px"},children:(0,i.jsx)("div",{ref:d,children:t})})};var d=Accordion},45303:function(e,t,n){"use strict";n.d(t,{F:function(){return useAddToWatchlistSpy},P:function(){return o}});var r=n(67294),o=(0,r.createContext)({}),useAddToWatchlistSpy=function(){return(0,r.useContext)(o)}},86400:function(e,t,n){"use strict";n.d(t,{S:function(){return AddToWatchlistView}});var r,o,a,i,s,l,c,u,d=n(24043),f=n(85893),p=n(67294),h=n(93967),m=n.n(h),v=n(54129),x=n(67582),g=n(53890),b=n(30283),w=n(11010),_=n(10092),y=n(56635),j=n(55716),N=n(13513);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var check_circle_outlined=function(e){return p.createElement("svg",_extends({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o||(o=p.createElement("g",{clipPath:"url(#check-circle-outlined_svg__clip0_4785_184337)",stroke:"#007C32",strokeLinecap:"round",strokeLinejoin:"round"},p.createElement("circle",{cx:8,cy:8,r:7.5}),p.createElement("path",{d:"M11 6l-4 4-2-2"}))),a||(a=p.createElement("defs",null,p.createElement("clipPath",{id:"check-circle-outlined_svg__clip0_4785_184337"},p.createElement("path",{fill:"#fff",d:"M0 0h16v16H0z"})))))};function warning_gray_extends(){return(warning_gray_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var warning_gray=function(e){return p.createElement("svg",warning_gray_extends({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i||(i=p.createElement("path",{d:"M.502 6.013a1 1 0 01.293-.707L4.31 1.793a1 1 0 01.707-.293l4.97.002a1 1 0 01.707.293l3.513 3.515a1 1 0 01.293.707l-.002 4.97a1 1 0 01-.293.707l-3.515 3.513a1 1 0 01-.707.293l-4.97-.002a1 1 0 01-.707-.293L.793 11.69a1 1 0 01-.293-.707l.002-4.97z",fill:"#5B616E",fillOpacity:.1,stroke:"#5B616E",strokeLinecap:"round",strokeLinejoin:"round"})),s||(s=p.createElement("path",{d:"M8 5.5a.5.5 0 00-1 0h1zM7 9a.5.5 0 001 0H7zm0-3.5V9h1V5.5H7zM7 11v1h1v-1H7z",fill:"#5B616E"})))};function refresh_extends(){return(refresh_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var refresh=function(e){return p.createElement("svg",refresh_extends({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l||(l=p.createElement("g",{filter:"url(#refresh_svg__filter0_i_4766_186213)"},p.createElement("path",{d:"M3 9.5A5.5 5.5 0 108.5 4",stroke:"#1256A0",strokeWidth:2}),p.createElement("path",{d:"M4.896 4.852a.5.5 0 01-.021-.727L8.146.854A.5.5 0 019 1.207v6.18a.5.5 0 01-.832.373L4.896 4.852z",fill:"#11539B"}))),c||(c=p.createElement("defs",null,p.createElement("filter",{id:"refresh_svg__filter0_i_4766_186213",x:0,y:0,width:16,height:20,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},p.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),p.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),p.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),p.createElement("feOffset",{dy:4}),p.createElement("feGaussianBlur",{stdDeviation:2}),p.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),p.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"}),p.createElement("feBlend",{in2:"shape",result:"effect1_innerShadow_4766_186213"})))))},k=n(10192),C=n(70973),E=n(27105),$=n(76325);(r=u||(u={})).addedToWatchlist="_web_watchlist_asset_added",r.myWatchlist="_myPortfolio",r.somethingWentWrong="_somthing_wrong",r.errorBody="_addToWatchlist_failurePopup_body",r.tryAgain="_addToWatchlist_failurePopup_action";var S=n(45303),SingleWatchlistView=function(){var e=(0,d._)((0,p.useState)(null),2),t=e[0],n=e[1],r=(0,d._)((0,p.useState)(j.Z.SelectionPopUp),2),o=r[0],a=r[1],i=(0,y.Z)().t,s=(0,k.g)(),l=s.symbol,c=s.pairId,h=s.pairIds,m=(0,x.o)().dataStore,v=m.portfolioStore,g=m.editionStore,b=m.authStore,O=(0,N.Nl)(),P=O.openAddToPortfolioGaEvent,B=O.onAddToWatchlistGaEvent,A=(0,S.F)().onSymbolAdded,T=[Number(c)];(null==h?void 0:h.length)!==0&&(T=h.map(function(e){return Number(e)})),(0,p.useEffect)(function(){var e,t=(e=(0,w._)(function(){var e;return(0,_.Jh)(this,function(n){switch(n.label){case 0:return[4,v.shouldAddToDefaultWL(g.edition.edition,b.sessionId,T)];case 1:if(!n.sent())return[3,3];return[4,v.addToDefaultWL(i(u.myWatchlist),T,g.edition.edition,b.sessionId)];case 2:return(e=n.sent())?(a(j.Z.DefaultPopUp),B(j.Z.DefaultPopUp,c),P(j.Z.DefaultPopUp,c),null==A||A(e,+c,"")):onError(t),[3,4];case 3:P(j.Z.SelectionPopUp,c),n.label=4;case 4:return[2]}})}),function(){return e.apply(this,arguments)});t()},[]);var onError=function(e){n(e),a(j.Z.Error)};return o===j.Z.Error?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(E.m,{popupType:o,title:(0,f.jsxs)("div",{className:"flex items-center px-1",children:[(0,f.jsx)(warning_gray,{className:"mr-3.5"}),i(u.somethingWentWrong)]})}),(0,f.jsx)("p",{className:"mx-4 border-y border-[#ECEDEF] px-1 py-5",children:i(u.errorBody)}),(0,f.jsxs)("button",{onClick:function(){t&&t()},className:"flex w-full items-center p-5 text-left font-semibold text-[#1256A0]",children:[(0,f.jsx)(refresh,{className:"mr-4"}),i(u.tryAgain)]})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(E.m,{popupType:o,title:(0,f.jsxs)("div",{className:"flex items-center",children:[(0,f.jsx)(check_circle_outlined,{className:"mr-3.5"}),l," ",i(u.addedToWatchlist)]})}),(0,f.jsx)($.H,{showTopLine:!0,showBottomLine:!0,popupType:o}),(0,f.jsx)(C.K,{popupType:o,onSuccess:function(){a(j.Z.SelectionPopUp)},onError:onError})]})},O=n(41276),P=n(88929),B=n(4941),AddToWatchlistView=function(e){var t=e.children,n=e.pairId,r=e.pairIds,o=e.pairType,a=e.symbol,i=e.entryPoint,s=e.source,l=e.className,c=e.parentRef,u=e.closeOthers,h=e.disabled,w=e.closeOnscroll,_=(e.onclose,e.forcedMultipleWatchlists),y=(0,d._)((0,v.BF)("AddToWatchlist"),5),j=y[0],N=y[1],C=y[2],E=y[3],$=y[4],S=(0,x.o)().dataStore.portfolioStore,A=!_&&S.userType===g.WA.SingleWlUser,T=_||S.userType===g.WA.MultipleWlUser,W=p.Children.only(t),I=(0,p.cloneElement)(W,{onClick:function(e){h||(W.props.onClick&&W.props.onClick(e),u&&$(),N(e))}});return w&&(0,B.k)(function(){return C(!1)}),(0,f.jsxs)(k.S.Provider,{value:{symbol:a,pairId:n,pairIds:r,pairType:o,source:s,closePopup:function(e){N(e)}},children:[I,E?(0,f.jsx)(b.Z,{entryPoint:i,children:(0,f.jsx)(j,{tail:"none",className:m()("right-0 w-87 rounded !border !border-[#B5B8BB] text-sm leading-5 !shadow-secondary md:!z-11",l),surfaceClassName:"rounded-[3px]",renderToTopClassName:"bottom-full",renderToBottomClassName:"top-full",parentRef:c,"data-test":"portfolio-popup",children:A?(0,f.jsx)(SingleWatchlistView,{}):T?(0,f.jsx)(O.q,{}):(0,f.jsx)(P.j,{})})}):null]})}},88929:function(e,t,n){"use strict";n.d(t,{j:function(){return HoldingsView}});var r,o,a,i,s,l,c=n(24043),u=n(85893),d=n(67294),f=n(56635),p=n(67582),h=n(53890),m=n(18205),v=n(13513),x=n(70973),g=n(27105),b=n(76325),w=n(10192);(r=i||(i={})).selectWatchlistType="_selectYourPortfolioType",r.addToWatchlist="_add_to_watchlist",r.addPosition="_add_positions";var _=n(93967),y=n.n(_),j=n(1399),N=n(45660),Button=function(e){var t=e.children,n=e.className,r=e.onClick;return(0,u.jsx)("button",{className:y()("flex flex-1 flex-col items-center justify-center border-y py-3.5 text-xs font-semibold leading-4 text-[#1256A0]",n),onClick:r,children:t})},formatOccurrences=function(e){return e?" (".concat(e,")"):""},PortfolioTypeSwitch=function(e){var t=e.portfolioType,n=e.setPortfolioType,r=e.watchlistOccurrences,o=e.holdingOccurrences,a=(0,f.Z)().t;return(0,u.jsxs)("div",{className:"flex px-4",children:[(0,u.jsxs)(Button,{className:y()("rounded-l border-l",t===h.f5.Watchlist?"border-r border-[#1256A0] bg-[#0a69e514]":"border-[#CFD4DA]"),onClick:function(){return n(h.f5.Watchlist)},children:[(0,u.jsx)(j.Z,{className:"mb-2 text-[#1256A0]"}),(0,u.jsxs)("span",{children:[a(i.addToWatchlist),formatOccurrences(r)]})]}),(0,u.jsxs)(Button,{className:y()("rounded-r border-r",t===h.f5.Position?"border-l border-[#1256A0] bg-[#0a69e514]":"border-[#CFD4DA]"),onClick:function(){return n(h.f5.Position)},children:[(0,u.jsx)(N.Z,{className:"mb-2"}),(0,u.jsxs)("span",{children:[a(i.addPosition),formatOccurrences(o)]})]})]})},k=n(11010),C=n(10092),E=n(288),$=n(70709);(o=s||(s={})).createNewHolding="_create_new_holdings",o.charactersOrLess="_wl_name_too_long",o.watchlistName="_portfolio_enter_portfolio_name",o.create="_create";var S=n(98247),CreateNewHoldingView=function(e){var t,n=e.onSuccess,r=e.onError,o=e.popupType,a=(0,p.o)().dataStore,i=a.portfolioStore,l=a.editionStore,h=a.authStore,m=(0,f.Z)().t,x=(0,c._)((0,d.useState)(""),2),g=x[0],b=x[1],_=(0,c._)((0,d.useState)(!1),2),j=_[0],N=_[1],O=(0,c._)((0,d.useState)(!1),2),P=O[0],B=O[1],A=g.length>=1&&g.length<=50,T=(0,w.g)().pairId,W=(0,v.Nl)(),I=W.onClickOnCreateNewWatchlistGaEvent,M=W.onCreateHoldingsGaEvent,F=W.onClickBackFromCreateWatchlistGaEvent,resetForm=function(){N(!1),b(""),B(!1)},Z=(t=(0,k._)(function(e){return(0,C.Jh)(this,function(t){switch(t.label){case 0:return B(!0),[4,i.createHolding(e,{subdomain:l.edition.edition,sessionId:h.sessionId})];case 1:return t.sent()?(M(v.I5.LegacyPopUp,T),n(),resetForm()):(r(function(){return Z(e)}),B(!1)),[2]}})}),function(e){return t.apply(this,arguments)});return j?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"flex px-4 py-3",children:[(0,u.jsx)("button",{onClick:function(){F(o,T),resetForm()},className:"mr-3 flex-none text-[#5B616E]",children:(0,u.jsx)(E.WM,{icon:"arrow-big",className:"w-4 ltr:-scale-x-100"})}),(0,u.jsxs)("div",{className:"flex flex-1 rounded border border-[#1256A0]",children:[(0,u.jsx)("input",{type:"text",placeholder:m(s.watchlistName),value:g,onChange:function(e){b(e.target.value)},className:"h-9 w-full rounded-l px-2.5 py-2 outline-none"}),(0,u.jsx)("button",{className:y()("flex-none rounded-r-[3px] px-4 font-bold text-white",A&&!P?"cursor-pointer bg-[#1256A0]":"cursor-not-allowed bg-[#8B8F98]"),disabled:!A||P,onClick:function(){return Z(g)},children:m(s.create)})]})]}),g.length>50&&(0,u.jsx)(S.o,{text:"50 "+m(s.charactersOrLess)})]}):(0,u.jsxs)("button",{onClick:function(){I(o,T),N(!0)},className:"flex w-full items-center p-5 text-left text-[#1256A0]",children:[(0,u.jsx)($.Z,{className:"ml-1 mr-3.5"}),m(s.createNewHolding)]})},O=n(75766),P=n(72253),B=n(14932),A=n(31608),T=n(22477),W=n(8757),I=n(55048),M=n(79213),F=n.n(M),Z=(0,d.forwardRef)(function(e,t){var n=e.label,r=e.type,o=e.className,a=e.onChange,i=e.lang,s=e.value,l=e.options,c=e.hasError,f=e.prefix,p=(0,d.useId)();return(0,u.jsxs)("div",{className:y()(F().host,o),children:[(0,u.jsx)("label",{htmlFor:p,className:"mb-2 block text-xs leading-4 text-[#5B616E]",children:n}),(0,u.jsxs)("div",{className:y()("flex h-9 rounded border px-2",c?"border-[#E81600]":"border-[#CFD4DA]"),children:[f&&(0,u.jsx)("div",{className:"flex h-full items-center",dangerouslySetInnerHTML:{__html:f}}),"select"===r?(0,u.jsx)("select",{onChange:function(e){return a(e.target.value)},className:"h-full w-full outline-none",children:null==l?void 0:l.map(function(e){return(0,u.jsx)("option",{value:e.value,selected:e.value===s,children:e.label})})}):(0,u.jsx)("input",{type:r,id:p,value:s,ref:t,lang:i,onChange:function(e){var t;return a(e.target.value)},className:"h-full w-full p-0 outline-none"})]})]})});(a=l||(l={})).type="_Type",a.date="_Date",a.amount="_amount",a.price="_Price",a.commission="_commission",a.buy="_buy",a.sell="_sell",a.savePosition="_save_position";var L=n(45303),D=n(30710),reducer=function(e,t){var n=t.field,r=t.value;return(0,B._)((0,P._)({},e),(0,O._)({},n,r))},CreatePositionView_CreatePositionView=function(){var e,t,n,r,o,a=(0,p.o)().dataStore,i=a.editionStore,s=a.quotesStore,h=a.portfolioStore,m=a.authStore,x=h.holdings,g=(0,f.Z)().t,b=(0,c._)((0,d.useState)([]),2),_=b[0],y=b[1],j=(0,c._)((0,d.useState)(""),2),N=j[0],E=j[1],$=(0,w.g)(),S=$.pairId,O=$.closePopup,P=(0,c._)((0,d.useState)(x[0]),2),B=P[0],M=P[1],F=(0,c._)((0,d.useReducer)(reducer,I.E),2),V=F[0],z=F[1],R=(0,c._)((0,d.useState)(new Date),2),H=R[0],G=R[1],U=(0,A.q)(),q=(0,v.Nl)().onPositionAddedGaEvent,J=(0,L.F)().onSymbolAdded;(0,d.useEffect)(function(){z({field:"posdate",value:"".concat(H.getFullYear(),"-").concat(H.getMonth()+1,"-").concat(H.getDate())})},[H]),(0,d.useEffect)(function(){var e;(e=(0,k._)(function(){var e;return(0,C.Jh)(this,function(t){switch(t.label){case 0:return[4,s.fetch({strategy:T._S.LIST,key:S,fieldMap:W.c7.Currency,subdomain:i.edition.edition})];case 1:return t.sent(),y((null===(e=s.getCurrencyCollection({strategy:T._S.LIST,key:S}))||void 0===e?void 0:e.collection)||[]),[2]}})}),function(){return e.apply(this,arguments)})()},[S]),(0,d.useEffect)(function(){z({field:"portfolio_id",value:B.id})},[B]),(0,d.useEffect)(function(){if(_&&_[0]){var e=_[0],t=e.Last.split(",")[0]+e.Last.split(",")[1];E(e.commissionCurrencySymbol),z({field:"price",value:parseFloat(t)}),e.PointValue&&z({field:"pointValue",value:e.PointValue.split("$")[1]})}},[_]);var onInputChange=function(e){return function(t){z({field:e,value:t})}},K=(0,d.useRef)(null),getInstrumentAsCurrenciesCollection=function(){var e;return(null===(e=s.getCurrencyCollection({strategy:T._S.LIST,key:S}))||void 0===e?void 0:e.collection)||[]},Y=(e=(0,k._)(function(e){var t,n;return(0,C.Jh)(this,function(r){switch(r.label){case 0:if(!(""!==V.amount&&V.price&&""!==V.pointValue))return[3,2];return n=(null===(t=getInstrumentAsCurrenciesCollection()[0])||void 0===t?void 0:t.isCurrencyType)&&V.leverage?V.leverage:"",[4,h.createPosition(V.portfolio_id,{operation:V.operation,amount:V.amount,comission:V.comission,pair_id:S,posdate:V.posdate,price:V.price.toString(),point_value:V.pointValue||"",leverage:n},{subdomain:i.edition.edition,sessionId:m.sessionId})];case 1:r.sent()&&(q(v.I5.LegacyPopUp,S),null==J||J(B,+S,""),O(e)),r.label=2;case 2:return[2]}})}),function(t){return e.apply(this,arguments)});return(0,u.jsxs)("div",{className:"px-4 pt-6",children:[(0,u.jsx)("div",{children:(0,u.jsx)("select",{"data-test":"create-position-select",className:"h-9 rounded border border-[#CFD4DA] px-3",onChange:function(e){var t=x.find(function(t){return t.id===+e.target.value});t&&M(t)},children:x.map(function(e){return(0,u.jsx)("option",{value:e.id,selected:e.id===B.id,children:e.name},e.hash)})})}),(0,u.jsxs)("div",{className:"mt-4 flex gap-3",children:[(0,u.jsx)(Z,{label:g(l.type),type:"select",className:"w-[94px]",options:[{label:g(l.buy),value:"BUY"},{label:g(l.sell),value:"SELL"}],value:V.operation,onChange:onInputChange("operation")}),(0,u.jsxs)("div",{className:"min-w-fit",children:[(0,u.jsx)("div",{className:"mb-2 block text-xs leading-4 text-[#5B616E]",children:g(l.date)}),(0,u.jsx)(D.A,{value:H,onChange:function(e){return G(e)},className:"border-[#CFD4DA] py-[0.45rem] !shadow-none"})]}),(0,u.jsx)(Z,{label:g(l.amount),type:"number",lang:i.formatLocale,className:"w-[94px]",value:V.amount,onChange:onInputChange("amount")})]}),(0,u.jsxs)("div",{className:"mt-4 flex gap-3",children:[(0,u.jsx)(Z,{label:g(l.price),type:"text",className:"w-[94px]",value:(t=V.price,o=(r=U.formatNumberToLocalString(t,2)).length-3,null==K||null===(n=K.current)||void 0===n||n.setSelectionRange(o,o),r),onChange:onInputChange("price"),ref:K}),(0,u.jsx)(Z,{prefix:N,label:g(l.commission),type:"number",lang:i.formatLocale,className:"w-[104px]",value:V.comission,onChange:onInputChange("comission")})]}),(0,u.jsx)("div",{className:"mt-6",children:(0,u.jsx)("button",{className:"w-full rounded bg-[#1256A0] px-4 py-2.5 font-bold text-white shadow-button",onClick:Y,children:g(l.savePosition)})})]})},V=v.I5.LegacyPopUp,HoldingsView=function(){var e=(0,f.Z)().t,t=(0,c._)((0,d.useState)(h.f5.Watchlist),2),n=t[0],r=t[1],o=(0,p.o)().dataStore.portfolioStore,a=(0,w.g)().pairId,s=(0,v.Nl)().onClickAddPositionGaEvent,onSuccess=function(){},onError=function(){},l=(0,m.U)(o.watchlistPairs,+a),_=(0,m.U)(o.holdingPairs,+a);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(g.m,{title:e(i.selectWatchlistType),popupType:V}),(0,u.jsx)(PortfolioTypeSwitch,{portfolioType:n,setPortfolioType:function(e){r(e),e===h.f5.Position&&s(V,a)},watchlistOccurrences:l,holdingOccurrences:_}),n===h.f5.Watchlist?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(b.H,{showBottomLine:!0,popupType:V}),(0,u.jsx)(x.K,{popupType:V,onSuccess:onSuccess,onError:onError})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(CreatePositionView_CreatePositionView,{}),(0,u.jsx)(CreateNewHoldingView,{popupType:V,onSuccess:onSuccess,onError:onError})]})]})}},41276:function(e,t,n){"use strict";n.d(t,{q:function(){return MultipleWatchlistsView}});var r,o,a=n(24043),i=n(85893),s=n(67294),l=n(56635),c=n(13513),u=n(55716),d=n(44255),f=n(70973),p=n(27105),h=n(76325);(r=o||(o={})).addToWatchlist="_add_to_watchlist",r.done="_addToWatchlist_Popup_DoneButton";var m=n(10192),MultipleWatchlistsView=function(){var e=(0,l.Z)().t,t=(0,a._)((0,s.useState)(u.Z.SelectionPopUp),2),n=t[0],r=t[1],v=(0,c.Nl)().doneBtnGaEvent,x=(0,m.g)(),g=x.pairId,b=x.closePopup;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.m,{popupType:n,title:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(d.Z,{className:"mr-3.5 w-4 text-[#5B616E]"}),e(o.addToWatchlist)]})}),(0,i.jsx)(h.H,{showTopLine:!0,popupType:n}),(0,i.jsx)("div",{className:"px-4",children:(0,i.jsx)("button",{className:"w-full rounded bg-[#1256A0] px-4 py-2.5 font-bold text-white shadow-button",onClick:function(e){v(g),b(e)},children:e(o.done)})}),(0,i.jsx)(f.K,{popupType:n,onSuccess:function(){r(u.Z.SelectionPopUp)},onError:function(){r(u.Z.Error)}})]})}},70973:function(e,t,n){"use strict";n.d(t,{K:function(){return CreateNewWatchlistView}});var r,o,a=n(11010),i=n(24043),s=n(10092),l=n(85893),c=n(67294),u=n(93967),d=n.n(u),f=n(288),p=n(56635),h=n(67582),m=n(13513),v=n(70709);(r=o||(o={})).createNewWatchlist="_create_new_watchlist",r.charactersOrLess="_wl_name_too_long",r.watchlistName="_portfolio_enter_portfolio_name",r.create="_create";var x=n(10192),g=n(98247),CreateNewWatchlistView=function(e){var t,n,r=e.onSuccess,u=e.onError,b=e.popupType,w=(0,h.o)().dataStore,_=w.portfolioStore,y=w.editionStore,j=w.authStore,N=(0,p.Z)().t,k=(0,i._)((0,c.useState)(""),2),C=k[0],E=k[1],$=(0,i._)((0,c.useState)(!1),2),S=$[0],O=$[1],P=(0,i._)((0,c.useState)(!1),2),B=P[0],A=P[1],T=C.length>=1&&C.length<=50,W=(0,x.g)(),I=W.pairId,M=W.pairIds,F=[Number(I)];(null==M?void 0:M.length)!==0&&(F=M.map(function(e){return Number(e)}));var Z=(0,m.Nl)(),L=Z.onClickOnCreateNewWatchlistGaEvent,D=Z.onAddToWatchlistGaEvent,V=Z.onCreateWatchlistGaEvent,z=Z.onClickBackFromCreateWatchlistGaEvent,resetForm=function(){O(!1),E(""),A(!1)},R=(t=(0,a._)(function(e){return(0,s.Jh)(this,function(t){switch(t.label){case 0:return[4,_.addInstrumentsToWatchlistV2(e,F,y.edition.edition,j.sessionId)];case 1:return t.sent()?(D(b,I),r(),resetForm()):u(function(){return R(e)}),[2]}})}),function(e){return t.apply(this,arguments)}),H=(n=(0,a._)(function(e){var t;return(0,s.Jh)(this,function(n){switch(n.label){case 0:return A(!0),[4,_.createWatchlistV2(e,{subdomain:y.edition.edition,sessionId:j.sessionId})];case 1:if(!(t=n.sent()))return[3,3];return V(b,I),[4,R(t)];case 2:return n.sent(),[3,4];case 3:u(function(){return H(e)}),n.label=4;case 4:return A(!1),[2]}})}),function(e){return n.apply(this,arguments)});return S?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex px-4 py-3",children:[(0,l.jsx)("button",{onClick:function(){z(b,I),resetForm()},className:"mr-3 flex-none text-[#5B616E]",children:(0,l.jsx)(f.WM,{icon:"arrow-big",className:"w-4 ltr:-scale-x-100"})}),(0,l.jsxs)("div",{className:"flex flex-1 rounded border border-[#1256A0]",children:[(0,l.jsx)("input",{type:"text",placeholder:N(o.watchlistName),value:C,onChange:function(e){E(e.target.value)},className:"h-9 w-full rounded-l px-2.5 py-2 outline-none"}),(0,l.jsx)("button",{className:d()("flex-none rounded-r-[3px] px-4 font-bold text-white",T&&!B?"cursor-pointer bg-[#1256A0]":"cursor-not-allowed bg-[#8B8F98]"),disabled:!T||B,onClick:function(){return H(C)},children:N(o.create)})]})]}),C.length>50&&(0,l.jsx)(g.o,{text:"50 "+N(o.charactersOrLess)})]}):(0,l.jsxs)("button",{onClick:function(){L(b,I),O(!0)},className:"flex w-full items-center p-5 text-left text-[#1256A0]",children:[(0,l.jsx)(v.Z,{className:"ml-1 mr-3.5"}),N(o.createNewWatchlist)]})}},98247:function(e,t,n){"use strict";n.d(t,{o:function(){return ErrorView}});var r=n(85893),ErrorView=function(e){var t=e.text;return(0,r.jsx)("div",{className:"bg-negative-light p-4 text-xs leading-4",children:t})}},27105:function(e,t,n){"use strict";n.d(t,{m:function(){return HeaderView}});var r=n(85893),o=n(288),a=n(13513),i=n(10192),HeaderView=function(e){var t=e.title,n=e.popupType,s=(0,a.Nl)().closeAddToPortfolioGaEvent,l=(0,i.g)(),c=l.pairId,u=l.closePopup;return(0,r.jsxs)("div",{className:"flex justify-between px-4 py-5",children:[(0,r.jsx)("div",{className:"font-semibold",children:t}),(0,r.jsx)("button",{onClick:function(e){s(n,c),u(e)},className:"text-[#5B616E]",children:(0,r.jsx)(o.WM,{icon:"close",className:"w-3.5"})})]})}},76325:function(e,t,n){"use strict";n.d(t,{H:function(){return N}});var r,o,a,i,s=n(85893),l=n(93967),c=n.n(l),u=n(46670),d=n(67582),f=n(11010),p=n(24043),h=n(10092),m=n(67294),v=n(288),x=n(26279),g=n(13513),b=n(7356),w=n(45303),_=n(56635),y=n(10192);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var warning_blue=function(e){return m.createElement("svg",_extends({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o||(o=m.createElement("path",{d:"M.502 6.013a1 1 0 01.293-.707L4.31 1.793a1 1 0 01.707-.293l4.97.002a1 1 0 01.707.293l3.513 3.515a1 1 0 01.293.707l-.002 4.97a1 1 0 01-.293.707l-3.515 3.513a1 1 0 01-.707.293l-4.97-.002a1 1 0 01-.707-.293L.793 11.69a1 1 0 01-.293-.707l.002-4.97z",fill:"#1256A0",fillOpacity:.1,stroke:"#1256A0",strokeLinecap:"round",strokeLinejoin:"round"})),a||(a=m.createElement("path",{d:"M8 5.5a.5.5 0 00-1 0h1zM7 9a.5.5 0 001 0H7zm0-3.5V9h1V5.5H7zM7 11v1h1v-1H7z",fill:"#1256A0"})))};(r=i||(i={})).open="_open_web_portfolio",r.tryAgain="_addToWatchlist_failurePopup_action",r.saving="_AddToPortfolio_Saving",r.saved="mobile_app_watch_saved";var Button=function(e){var t=e.children,n=e.onClick,r=e.className;return(0,s.jsx)("button",{className:c()("flex h-6 items-center rounded border-[#1256a04d] px-2.5 text-xs font-semibold leading-4 text-[#1256A0] hover:border-[#1256a0]",r),onClick:n,children:t})},OpenButton=function(e){var t=e.onClick,n=e.className,r=(0,_.Z)().t;return(0,s.jsx)(Button,{className:c()("hidden border group-hover:block",n),onClick:t,children:r(i.open)})},TryAgainButton=function(e){var t=e.onClick,n=e.className,r=(0,_.Z)().t;return(0,s.jsxs)(Button,{className:c()("group-hover:border",n),onClick:t,children:[(0,s.jsx)(warning_blue,{className:"mr-2"}),r(i.tryAgain)]})},j=n(86193),PortfolioRowView=function(e){var t,n,r,o=e.wl,a=e.popupType,l=(0,d.o)().dataStore,c=l.portfolioStore,u=l.authStore,N=l.editionStore,k=(0,g.Nl)(),C=k.onAddToWatchlistGaEvent,E=k.onRemoveFromWatchlistGaEvent,$=k.onOpenPortfolioGaEvent,S=(0,y.g)(),O=S.pairId,P=S.pairIds,B=(0,_.Z)().t,A=(0,p._)((0,m.useState)(b.M.None),2),T=A[0],W=A[1],I=(0,w.F)(),M=I.onSymbolAdded,F=I.onSymbolRemoved,Z=[Number(O)];(null==P?void 0:P.length)!==0&&(Z=P.map(function(e){return Number(e)}));var L=Z.every(function(e){return o.pair_ids.includes(e)}),D=(t=(0,f._)(function(){var e;return(0,h.Jh)(this,function(t){switch(t.label){case 0:return[4,c.addInstrumentsToWatchlist(o,Z,N.edition.edition,u.sessionId)];case 1:return(e=t.sent())&&(null==M||M(o,+O,""),C(a,O)),[2,e]}})}),function(){return t.apply(this,arguments)}),V=(n=(0,f._)(function(){var e;return(0,h.Jh)(this,function(t){switch(t.label){case 0:return[4,c.removeInstrumentsFromWatchlist(o,Z,N.edition.edition,u.sessionId)];case 1:return(e=t.sent())&&(null==F||F(o,+O,""),E(a,O)),[2,e]}})}),function(){return n.apply(this,arguments)}),showSaved=function(){W(b.M.Saved),setTimeout(function(){W(b.M.None)},1500)},z=(r=(0,f._)(function(e,t){var n;return(0,h.Jh)(this,function(e){switch(e.label){case 0:if(W(b.M.Saving),n=!1,!t)return[3,2];return[4,D()];case 1:return n=e.sent(),[3,4];case 2:return[4,V()];case 3:n=e.sent(),e.label=4;case 4:return n?showSaved():W(b.M.Error),[2]}})}),function(e,t){return r.apply(this,arguments)});return(0,s.jsxs)("li",{className:"group flex h-10 items-center justify-between px-4 hover:bg-[#0a69e514]",children:[(0,s.jsx)(x.X,{label:o.name,value:o.id.toString(),onChange:z,defaultChecked:L}),T===b.M.Saved?(0,s.jsxs)("div",{className:"flex text-xs font-semibold leading-4 text-[#007C32]",children:[(0,s.jsx)(v.CD,{icon:v.YR,className:"mr-2.5"})," ",B(i.saved)]}):T===b.M.Saving?(0,s.jsxs)("div",{className:"flex text-xs font-semibold leading-4 text-[#5B616E]",children:[(0,s.jsx)(j.$,{className:"mr-2.5 w-4"})," ",B(i.saving)]}):T===b.M.None?(0,s.jsx)(OpenButton,{onClick:function(){$(a,O),window.open("/portfolio/?portfolioID=".concat(o.hash),"_blank")}}):(0,s.jsx)(TryAgainButton,{onClick:function(){return z(o.id.toString(),!L)}})]})},N=(0,u.Pi)(function(e){var t=e.showTopLine,n=e.showBottomLine,r=e.popupType,o=(0,d.o)().dataStore.portfolioStore;return(0,s.jsx)("ul",{className:c()("relative max-h-[180px] overflow-y-auto py-2.5",{"before:absolute before:left-4 before:right-4 before:top-0 before:h-px before:bg-[#ECEDEF]":t,"after:absolute after:bottom-0 after:left-4 after:right-4 after:h-px after:bg-[#ECEDEF]":n}),children:o.watchLists.map(function(e){return(0,s.jsx)(PortfolioRowView,{wl:e,popupType:r},e.id)})})})},26279:function(e,t,n){"use strict";n.d(t,{X:function(){return Checkbox}});var r,o,a,i,s=n(85893),l=n(93967),c=n.n(l),u=n(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var checkbox_filled=function(e){return u.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),r||(r=u.createElement("rect",{width:16,height:16,fill:"currentColor",rx:2})),o||(o=u.createElement("path",{stroke:"#fff",strokeWidth:1.8,d:"M12 5.5l-5 5-3-3"})))};function checkbox_empty_extends(){return(checkbox_empty_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var checkbox_empty=function(e){return u.createElement("svg",checkbox_empty_extends({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),a||(a=u.createElement("g",{filter:"url(#checkbox-empty_svg__a)"},u.createElement("rect",{width:16,height:16,fill:"#fff",rx:2}),u.createElement("rect",{width:15,height:15,x:.5,y:.5,stroke:"#000",rx:1.5}),u.createElement("rect",{width:15,height:15,x:.5,y:.5,stroke:"currentColor",rx:1.5}))),i||(i=u.createElement("defs",null,u.createElement("filter",{id:"checkbox-empty_svg__a",width:16,height:20,x:0,y:0,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},u.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),u.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),u.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),u.createElement("feOffset",{dy:4}),u.createElement("feGaussianBlur",{stdDeviation:2}),u.createElement("feComposite",{in2:"hardAlpha",k2:-1,k3:1,operator:"arithmetic"}),u.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"}),u.createElement("feBlend",{in2:"shape",result:"effect1_innerShadow_6470_12283"})))))},Checkbox=function(e){var t=e.value,n=e.label,r=e.disabled,o=void 0!==r&&r,a=e.className,i=e.defaultChecked,l=void 0!==i&&i,u=e.labelClassName,d=e.onChange,f=e.hoverColor,p=e.borderColor,h=e.filledColor;return(0,s.jsxs)("label",{className:c()("flex cursor-pointer items-center",a),children:[(0,s.jsx)("input",{type:"checkbox",value:t,checked:l,disabled:o,onChange:function(e){return d(e.target.value,e.target.checked)},className:"hidden"}),l?(0,s.jsx)(checkbox_filled,{className:h?"text-[".concat(h,"]"):"text-[#1256A0]"}):(0,s.jsx)(checkbox_empty,{className:c()(f?"hover:text-[".concat(f,"]"):"",p?"text-[".concat(p,"]"):"text-[#868686]")}),(0,s.jsx)("span",{className:c()("ml-3.5 text-sm leading-5",o?"text-[#5B616E]":"text-[#232526]",u),children:n})]})}},18080:function(e,t,n){"use strict";n.d(t,{i:function(){return f}});var r=n(24043),o=n(85893),a=n(67294),i=n(5152),s=n.n(i),l=n(54129),c=n(30283),u=n(86193),d=s()(function(){return n.e(3408).then(n.bind(n,93408))},{loadableGenerated:{webpack:function(){return[93408]}},loading:function(){return(0,o.jsx)("div",{className:"py-1/2",children:(0,o.jsx)(u.$,{className:"w-[30px]"})})}}),f=a.createContext({id:0,name:"",last:"",volume:0}),p=a.memo(function(e){var t=e.instrumentDetails,n=e.isOpened,i=e.onClose,s=e.className,u=e.entryPoint,p=e.tail,h=(0,r._)((0,l.BF)("AlertPanelV2-".concat(t.id),{afterClose:i}),3),m=h[0],v=h[2];return(0,a.useEffect)(function(){v(n)},[n]),n?(0,o.jsx)(c.Z,{entryPoint:u,children:(0,o.jsx)(m,{tail:void 0===p?"none":p,className:s,children:(0,o.jsx)(f.Provider,{value:t,children:(0,o.jsx)(d,{close:i})})})}):null});t.Z=p},30710:function(e,t,n){"use strict";n.d(t,{A:function(){return NativeDateInputV2}});var r=n(72253),o=n(47702),a=n(24043),i=n(85893),s=n(67294),l=n(93967),c=n.n(l),u=n(1771),d=n(20711),f=n(24850),p=n.n(f),inputDateValue=function(e){return e?e.toISOString().slice(0,10):void 0},NativeDateInputV2=function(e){var t=e.value,n=void 0===t?null:t,l=e.onChange,f=e.maxDate,h=void 0===f?null:f,m=e.minDate,v=e.className,x=(0,o._)(e,["value","onChange","maxDate","minDate","className"]),g=(0,a._)((0,s.useState)(!1),2),b=g[0],w=g[1],_=n?6e4*new Date(Number(n)).getTimezoneOffset():6e4*new Date().getTimezoneOffset(),y=n?new Date(Number(n)-_):null,j=(0,s.useRef)(null),N=(0,u.F)();return(0,i.jsxs)("div",{className:c()(p().root,"relative flex flex-1 items-center gap-3.5 rounded border border-solid bg-white px-3.5 py-2 shadow-select ".concat(b?"border-[#1256A0]":""),v),onClick:function(){if(j.current)try{j.current.showPicker()}catch(e){j.current.click()}},children:[(0,i.jsxs)("span",{className:"whitespace-nowrap text-sm leading-5 text-[#333]",children:[" ",N(n)]}),(0,i.jsx)("input",(0,r._)({className:"absolute left-0 top-0 h-full w-full opacity-0",type:"date",ref:j,onChange:function(e){var t=e.target.valueAsDate;null!==t&&(t=new Date(Number(t)+_)),l(t||null)},value:inputDateValue(y),max:inputDateValue(h),min:inputDateValue(m),onFocus:function(){w(!0)},onBlur:function(){w(!1)}},x)),(0,i.jsx)("span",{className:"h-4 w-4",children:(0,i.jsx)(d.Z,{})})]})}},46217:function(e,t,n){"use strict";n.d(t,{M:function(){return usePopupBoundaryContext},T:function(){return o}});var r=n(67294),o=(0,r.createContext)({current:void 0}),usePopupBoundaryContext=function(){return(0,r.useContext)(o)}},62616:function(e,t,n){"use strict";n.d(t,{GI:function(){return Popup},pP:function(){return m},qh:function(){return x}});var r=n(47702),o=n(85893),a=n(67294),i=n(72253),s=n(24043),l=n(18482),c=n(1371),u=n(66037),d=n(46217),f=(0,a.createContext)(null),usePopupContext=function(){return(0,a.useContext)(f)},Popup=function(e){var t,n,p,h,m,v,x,g,b,w,_,y,j,N,k,C,E,$,S,O,P,B=e.children,A=(p=void 0!==(n=(t=(0,r._)(e,["children"])).initialOpen)&&n,h=t.offset,m=t.shift,v=t.open,x=t.onOpenChange,g=t.placement,b=t.disableClick,w=t.dismissByEsc,_=t.dismissByScroll,j=(y=(0,s._)((0,a.useState)(p),2))[0],N=y[1],k=(0,d.M)(),C=null!=v?v:j,E=null!=x?x:N,$=(0,l.YF)({open:C,onOpenChange:E,middleware:[void 0!==h&&(0,c.cv)(h),(0,c.RR)({boundary:k.current}),m&&(0,c.uY)({boundary:k.current}),(0,c.Cp)({boundary:k.current,elementContext:"reference"})].filter(Boolean),whileElementsMounted:u.Me,placement:g}),S=(0,l.eS)($.context,{enabled:!b}),O=(0,l.bQ)($.context,{escapeKey:void 0!==w&&w,ancestorScroll:void 0!==_&&_}),P=(0,l.NI)([S,O]),(0,a.useMemo)(function(){return(0,i._)({open:C,setOpen:E},P,$)},[C,E,P,$]));return(0,o.jsx)(f.Provider,{value:A,children:B})},p=n(93967),h=n.n(p),m=(0,a.forwardRef)(function(e,t){var n,s=e.style,c=e.className,u=(0,r._)(e,["style","className"]),d=usePopupContext(),f=(0,l.qq)([d.refs.setFloating,t]),p=!!(null===(n=d.middlewareData.hide)||void 0===n?void 0:n.referenceHidden);return((0,a.useEffect)(function(){p&&d.setOpen(!1)},[p]),d.open)?(0,o.jsx)(l.ll,{children:(0,o.jsx)("div",(0,i._)({ref:f,className:h()("z-3 rounded border border-[#B5B8BB] bg-white shadow-secondary",c),style:(0,i._)({},d.floatingStyles,s)},d.getFloatingProps(u)))}):null}),v=n(14932),x=(0,a.forwardRef)(function(e,t){var n=e.children,s=e.asChild,c=(0,r._)(e,["children","asChild"]),u=usePopupContext(),d=n.ref,f=(0,l.qq)([u.refs.setReference,t,d]);return void 0!==s&&s&&(0,a.isValidElement)(n)?(0,a.cloneElement)(n,u.getReferenceProps((0,i._)({ref:f},c,n.props))):(0,o.jsx)("button",(0,v._)((0,i._)({ref:f},u.getReferenceProps(c)),{children:n}))})},30028:function(e,t,n){"use strict";n.d(t,{T:function(){return PrefetchLink}});var r=n(72253),o=n(14932),a=n(85893),i=n(41664),s=n.n(i),l=n(78313),PrefetchLink=function(e){var t=e.children,n=e.href,i=e.className,c=e.title,u=e.dataTest,d=e.noprefetch,f=e.dataGoogleInterstitial;return void 0===n?(0,a.jsx)("span",{className:i,children:t}):(0,l.x$)(n)&&!d?(0,a.jsx)(s(),(0,o._)((0,r._)({href:n,className:i,title:c,"data-test":u},void 0===f?{}:{"data-google-interstitial":f}),{children:t})):(0,a.jsx)("a",(0,o._)((0,r._)({href:n,className:i,title:c,"data-test":u},void 0===f?{}:{"data-google-interstitial":f}),{children:t}))}},78313:function(e,t,n){"use strict";n.d(t,{x$:function(){return isRefactoredLink}});var r=/(^\/next|\/_next)/,o=/^\/equities\/\b(?!([A-Z]|morehistory|argentina$|abu-dhabi$|australia$|austria$|bahrain$|bangladesh$|belgium$|bosnia$|botswana$|brazil$|bulgaria$|canada$|chile$|china$|colombia$|costa-rica$|ivory-coast$|croatia$|cyprus$|czech-republic$|denmark$|dubai$|egypt$|estonia$|finland$|france$|germany$|greece$|hong-kong$|hungary$|iceland$|india$|indonesia$|iraq$|ireland$|israel$|italy$|jamaica$|japan$|jordan$|kazakhstan$|kenya$|kuwait$|latvia$|lebanon$|lithuania$|luxembourg$|malawi$|malaysia$|malta$|mauritius$|mexico$|mongolia$|montenegro$|morocco$|namibia$|netherlands$|new-zealand$|nigeria$|norway$|oman$|pakistan$|palestine$|peru$|philippines$|poland$|portugal$|qatar$|romania$|russia$|rwanda$|saudi-arabia$|serbia$|singapore$|slovakia$|slovenia$|south-africa$|south-korea$|spain$|sri-lanka$|sweden$|switzerland$|taiwan$|tanzania$|thailand$|tunisia$|turkey$|uganda$|united-kingdom$|ukraine$|united-states$|venezuela$|vietnam$|zambia$|zimbabwe$|africa$|americas$|asia-pacific$|europe$|middle-east$|trending-stocks|cannabis-stocks|stocks|cid|service\/|warset-futures-continuation-1-f|.*(-futures$|-future$|-futures-commentary$|-future-commentary$|-advanced-chart$|-chart$|-news($|\/\d)|-opinion($|\/\d)|-consensus-estimates$|-scoreboard$|-options$|-user-rankings$|-candlestick$|-related-instruments$|-related-indices$|-company-profile$|-financial-summary$|-income-statement$|-balance-sheet$|-cash-flow$|-ratios$|-dividends$|-earnings$|-related-securities$|-historical-data-dividends$|-historical-data-earnings$|-historical-data-splits$|-adrs$|-insights$|jpg)))/,a=/^(\/indices\/\b(?!([A-Z]|(nasdaq-100-futures)|((?!major-indices)(.*-indices$\b))|djia-futures|e-mini-s-p-smallcap-futures|s-p-500-index-futures|Service\/.*|.*(-options$|-advanced-chart|-chart|-news|-opinion|-scoreboard|-user-rankings|-candlestick|-related-instruments|-insights|-components|-forecasts|-contracts|jpg))).*)|\/indices\/dorsey-wright-smallcap-technical$|\/indices\/the-dorsey-wright-nq-technical$|\/indices\/200-automobiles---components$|\/indices\/300-automobiles---components$|\/indices\/kosdaq-vehicles-components$|\/indices\/ose-automobiles-and-components$|\/indices\/sp-cse-automobiles-components$|\/indices\/taiwan-electronic---part-components$|\/indices\/tpex-electronic-parts-components$/,i=/^\/commodities\/\b(?!([A-Z]|metals|softs|meats|energy|grains|futures-specifications|zinc$|class-iii-milk-cme|gold-kilo|sugar-16|spring-wheat|silver-mini-sized|ice-south-china-coal|ice-gas-oil-sulphur|gold-mini-sized|crude-oil-wti-ice|e-mini-natural-gas|feeder-cattle-cme|e-mini-crude-oil|real-time-futures|service|\/.*|.*(-advanced-chart|-chart|-contracts|-forecasts|-news|-opinion|-scoreboard|-user-rankings|-candlestick|-related-instruments|-insights|\(p\)|-vix|jpg))).*/,s=/^(\/crypto\/((?!Service|service)([a-zA-Z0-9]|-)*)((?!\/)$|\/)\b(?!(markets$|news|chart$|chat|analysis|historical-data$)|(.*(-converter|-advanced-chart|-chart|commentary|news|-scoreboard|-user-rankings|-candlestick|-futures|-related-instruments))).*)/,l=/^(\/currencies\/\b(?!([A-Z]|europe|africa|asia|north-america|south-america|middle-east|central-america|pacific|caribbean|streaming-forex-rates-majors|forward-rates|live-currency-cross-rates|exchange-rates-table|single-currency-crosses|fx-futures|forex-options|us-dollar-index-historical-data|.*(-options|-futures|-future|-index|-converter|-forward-rates|-quotes|-related-securities|-spreads|-advanced-chart|-chart|-news|-opinion|-technical|-scoreboard|-user-rankings|-candlestick|-related-instruments|-contracts|-futures-historical-data|\(p\)|service|jpg))).*)/,c=/^\/(news|analysis)\/((?!((.*[a-zA-Z-]+\/)?[a-zA-Z-\d]+-(\d+)))[^\/]+)$/,u=["-streaming-chart","-advanced-chart","-candlestick","-scoreboard","-user-rankings","-government-bonds","-contracts","-news","-opinion"],d=["-chart","-advanced-chart","-news","-opinion","-candlestick","-scoreboard","-user-rankings","-profile","-etfs","-options"],f=["/discover/ai-stocks","/discover/bank-stocks","/discover/electric-vehicles-stocks","/discover/gaming-stocks","/discover/recession-proof-stocks","/discover/renewable-energy-stocks","/discover/starter-kit","/discover/top-dividend-stocks","/currencies/streaming-forex-rates-majors","/discover/bank-stocks","/rates-bonds/world-cds","/indices/indices-futures","/indices/major-indices"],p=["/rates-bonds/financial-futures","/rates-bonds/government-bond-spreads","/rates-bonds/forward-rates"];function isRefactoredLink(e){return"/"!==e.charAt(0)&&(e="/"+e),!!f.some(function(t){return t===e})||!p.some(function(t){return t===e})&&(e.startsWith("/etfs/")?!("/etfs/"===e||d.some(function(t){return e.endsWith(t)})):e.startsWith("/rates-bonds/")?!("/rates-bonds/"===e||u.some(function(t){return e.endsWith(t)})):r.test(e)||o.test(e)||a.test(e)||i.test(e)||s.test(e)||l.test(e)||c.test(e))}},54988:function(e,t,n){"use strict";var r,o;n.d(t,{Z:function(){return r}}),(o=r||(r={})).portfolio="_addToPortfolio",o.added="_addToPortfolio_added",o.alert="_createAlert",o.newPortfolio="_myPortfolio"},18205:function(e,t,n){"use strict";n.d(t,{U:function(){return countOccurrences}});var r=n(85893);n(67294);var o=n(93967),a=n.n(o),i=n(31585),s=n(56635),l=n(54988),c=n(5977),u=n(67582),d=n(46670),f=n(86400),p=n(26751),countOccurrences=function(e,t){return e.reduce(function(e,n){return n===t?e+1:e},0)},h=(0,d.Pi)(function(e){var t,n,o=e.instrument,d=(0,s.Z)().t,h=(0,u.o)().dataStore.portfolioStore,m=null==o?void 0:null===(t=o.base)||void 0===t?void 0:t.id,v=(null==o?void 0:null===(n=o.base)||void 0===n?void 0:n.type)||"",x=countOccurrences(h.portfolioPairs,+m),g=x>0,b=null==o?void 0:o.name,w=(null==b?void 0:b.symbol)||(null==b?void 0:b.shortName);return(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)(f.S,{entryPoint:c.N9.AddToWatchlistButtonInstrumentTopMenu,pairId:m,pairIds:[m],pairType:v,source:p.K.NameView,symbol:w,children:(0,r.jsxs)("button",{className:"flex cursor-pointer items-center rounded bg-[#1256A0] px-4 py-2.5 text-sm font-bold leading-5 text-white shadow-button hover:bg-[#116BCC] hover:shadow-buttonHover",children:[(0,r.jsx)(i.Z,{className:a()("h-[17px] w-[17px]",g?"text-[#FFD60A]":"")}),(0,r.jsx)("div",{className:"ml-3 flex items-center","data-test":"instrument-create-portfolio",children:g?(0,r.jsxs)(r.Fragment,{children:[d(l.Z.added),(0,r.jsx)("div",{className:"ml-3 rounded-full bg-[#0000004d] px-2 py-0.5 text-xs leading-4",children:x})]}):d(l.Z.portfolio)})]})})})});t.Z=h},7118:function(e,t,n){"use strict";n.d(t,{E:function(){return RadioButton},_:function(){return RadioButtonV2}});var r=n(72253),o=n(47702),a=n(85893),i=n(93967),s=n.n(i),RadioButton=function(e){var t=e.label,n=e.className,i=e.onChange,l=(0,o._)(e,["label","className","onChange"]);return(0,a.jsxs)("label",{className:s()("flex items-center",n),children:[(0,a.jsx)("input",(0,r._)({type:"radio",onChange:i,className:"h-3.25 w-3.25 shrink-0 cursor-pointer align-middle outline-none"},l)),t&&(0,a.jsx)("span",{className:"cursor-pointer pl-1",children:t})]})},RadioButtonV2=function(e){var t=e.selected,n=e.className,i=(0,o._)(e,["selected","className"]);return(0,a.jsx)("div",(0,r._)({className:s()("size-4 flex-none rounded-full",t?"relative border-2 border-inv-blue-500 after:absolute after:left-0.5 after:top-0.5 after:size-2 after:rounded-full after:bg-inv-blue-500":"cursor-pointer border border-[#5b616e]/50",n)},i))}},79213:function(e){e.exports={host:"Input_host__CjTnk"}},24850:function(e){e.exports={root:"NativeDateInputV2_root__uAIu0"}}}]);