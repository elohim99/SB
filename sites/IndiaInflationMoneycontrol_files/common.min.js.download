function readCookie(t){let e=t+"=",n=document.cookie.split(";");for(let o=0;o<n.length;o++){let a=n[o];for(;" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(e))return a.substring(e.length,a.length)}return"nnmc"!=t&&null}function tableFilter(t,e="",n="",o=""){var a,r,i,l,s,d,c;r=(a=o?document.getElementById(o+"_input"):document.getElementById(t+"_input")).value.toUpperCase(),l=(i=document.getElementById(t+"_table")).getElementsByTagName("tr");let u=0,p=0;for(e&&GAEventTracker(n.category,n.action,"Search | "+r),d=0;d<l.length;d++)(s=l[d].getElementsByTagName("a")[0])&&(p++,(c=s.textContent||s.innerText).toUpperCase().indexOf(r)>-1?l[d].style.display="":(l[d].style.display="none",u++),console.log(c.toUpperCase()+"====="+r));if(u===p){let h=$(i).find("thead > tr:first-child > th").length;$(`#${t}-no-data-row`).length<=0&&$(i).append(`<tr id="${t}-no-data-row"><td colspan="${h}" style="text-align:center">No data found</td></tr>`)}else $(`#${t}-no-data-row`).remove()}function tableFilterMultipleColumns(t,e="",n="",o=""){var a,r,i,l,s,d,c;r=(a=o?document.getElementById(o+"_input"):document.getElementById(t+"_input")).value.toUpperCase(),l=(i=document.getElementById(t+"_table")).getElementsByTagName("tr");let u=0,p=0;for(e&&GAEventTracker(n.category,n.action,"Search | "+r),d=0;d<l.length;d++)if((s=l[d].querySelectorAll(".searchColumn")).length>0){let h=!1;for(let g=0;g<s.length;g++)s[g]&&(c=s[g].textContent||s[g].innerText).toUpperCase().indexOf(r)>-1&&(h=!0);h?l[d].style.display="":(l[d].style.display="none",u++),p++}if(u===p){let m=$(i).find("thead > tr:first-child > th").length;$(`#${t}-no-data-row`).length<=0&&$(i).append(`<tr id="${t}-no-data-row"><td colspan="${m}" style="text-align:center">No data found</td></tr>`)}else $(`#${t}-no-data-row`).remove()}function wapFilter(t,e="filterDiv",n="",o=""){$(".search_btn").hide(),$(".close_btn").show();let a=document.getElementsByClassName(e),r=0,i=0,l=$(a).parent();filter=(input=document.getElementById(t+"_input")).value.toUpperCase(),n&&GAEventTracker(o.category,o.action,"Search | "+filter);for(let s=0;s<a.length;s++){i++;let d=a[s];$(d).attr("data-text").toUpperCase().includes(filter)?$(d).show():($(d).hide(),r++)}r===i?$(`#${t}-no-data-div`).length<=0&&$(l).append(`<p id="${t}-no-data-div" style="margin:10px;text-align:center;"><b>No data found</b></p>`):$(`#${t}-no-data-div`).remove()}function wapFilterMultiple(t,e="filterDiv",n="",o=""){$(".search_btn").hide(),$(".close_btn").show();let a=document.getElementsByClassName(e),r=0,i=0,l=$(a).parent();filter=(input=document.getElementById(t+"_input")).value.toUpperCase(),n&&GAEventTracker(o.category,o.action,"Search | "+filter);for(let s=0;s<a.length;s++){i++;let d=a[s];$(d).attr("data-text").toUpperCase().toUpperCase().indexOf(filter)>-1?$(d).show():($(d).hide(),r++)}r===i?$(`#${t}-no-data-div`).length<=0&&$(l).append(`<p id="${t}-no-data-div" style="margin:10px;text-align:center;"><b>No data found</b></p>`):$(`#${t}-no-data-div`).remove()}function sortdata(t=null,e=null){var n=$.tablesorter,o=!1,a=!1;let r=t?`#${t}`:"table";$(r).tablesorter({theme:"blue",widthFixed:!0,widgets:["filter"],dateFormat:"DD-MMM-YYYY",headers:e}).on("sortBegin filterEnd",function(t,e){if(!(o||a)){var r=this.config,e=n.getFilters(this),i=$(".tablesorter").not(r.$table);o||(o=!0,i.trigger("sorton",[r.sortList,function(){setTimeout(function(){o=!1},500)}])),a||(i.each(function(){this.hasInitialized&&n.setFilters(this,e,!0)}),setTimeout(function(){a=!1},500))}}),$(".tablesorter-ignoreRow").hide()}function createIcsFile2(t,e,n,o,a,r){let i="BEGIN:VCALENDAR\nCALSCALE:GREGORIAN\nMETHOD:PUBLISH\nPRODID:-//Test Cal//EN\nVERSION:2.0\nBEGIN:VEVENT\nUID:test-1\nDTSTART;VALUE=DATE:"+convertDateForCalendar(t,a)+"\nDTEND;VALUE=DATE:"+convertDateForCalendar(e,r)+"\nSUMMARY:"+n+"\nDESCRIPTION:"+n+" "+o;window.open("data:text/calendar;charset=utf8,"+encodeURIComponent(i))}function convertDateForCalendar(t,e){let n=new Date(t).toISOString();return(n=(n=(n=n.split("T")[0]).split("-")).join(""))+"T"+e}function createIcsFile(t,e,n,o,a,r){let i=moment(`${n} ${a.substring(0,2)+":"+a.substring(2,4)+":00"}`).subtract({hours:"05",minutes:"30"}).format("HHmmss"),l=n.split("-").join(""),s=o.split("-").join(""),d=moment(`${o} ${r.substring(0,2)+":"+r.substring(2,4)+":00"}`).subtract({hours:"05",minutes:"30"}).format("HHmmss");window.open("data:text/calendar;charset=utf8,"+encodeURIComponent("BEGIN:VCALENDAR\nVERSION:2.0\nBEGIN:VEVENT\nDTSTART:"+(l+"T")+i+"Z\nDTEND:"+(s+"T")+d+"Z\nSUMMARY:"+t+"\nDESCRIPTION:"+t+" "+e+"\nLOCATION:"+e+"\nEND:VEVENT\nEND:VCALENDAR"))}function openLoginModal(){let t="https://accounts.moneycontrol.com/mclogin/?ref="+window.location.href;$("#mcGopro").modal("hide"),$("#myframe").attr("src",t),$("#LoginModal").modal()}function deleteCookie(t){document.cookie=`${t}=; path=/; domain=.moneycontrol.com; expires=Thu, 01 Jan 1970 00:00:01 GMT`}function thousandSeparatorNum(t,e=2){if(t){if(!1===e){let n=t.toString().replace(/,/g,""),o=parseInt(n);return o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}let a=t.toString().replace(/,/g,""),r=parseFloat(a).toFixed(e);return r.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}function checkInView(t,e,n){var t=$(t),o=t.height(),a=(t.scrollTop(),$(e).offset().top-t.offset().top),r=a+$(e).height(),i=(a<0&&r>0||a>0&&a<=t.height())&&n;return a>=0&&r<=o||i}function empty(t){let e,n,o,a,r=[e,null,!1,0,"","0",void 0];for(o=0,a=r.length;o<a;o++)if(t===r[o])return!0;if("object"==typeof t){for(n in t)if(t.hasOwnProperty(n))return!1;return!0}return!1}function getAuthToken(){let t=readCookie("mcpro"),e=1==t?readCookie("token-normal"):"-1";return e}function isElementVisible(t){let e=document.getElementById(t);if(!e)return!1;let n=e.getBoundingClientRect(),o=window.innerWidth||document.documentElement.clientWidth,a=window.innerHeight||document.documentElement.clientHeight,r=function(t,e){return document.elementFromPoint(t,e)};return!(n.right<0)&&!(n.bottom<0)&&!(n.left>o)&&!(n.top>a)&&(e.contains(r(n.left,n.top))||e.contains(r(n.right,n.top))||e.contains(r(n.right,n.bottom))||e.contains(r(n.left,n.bottom)))}function checkMarketTime(){return new Promise((t,e)=>{fetch("https://priceapi.moneycontrol.com/pricefeed/nse/equitycash/HDF01").then(t=>t.json()).then(n=>{n.data&&200==n.code&&n?.data?.sessionId=="CONTINUOUS"&&"CLOSED"!=n?.data.market_state?t(!0):e(!1)}).catch(t=>{console.log(t),e(!1)})})}async function getPriceApiData(t="N",e,n,o=null){$.ajax({url:`https://priceapi.moneycontrol.com/pricefeed/${"N"==t?"nse":"bse"}/equitycash/${e}`,method:"get",type:"json",beforeSend:function(t){},success:function(t){if(t&&200==t.code&&t.data&&Object.keys(t.data).length>0){let e=t?.data?.pricecurrent&&"NaN"!=thousandSeparatorNum(t.data.pricecurrent)?thousandSeparatorNum(t.data.pricecurrent):$(`#${n}`).html();if($(`#${n}`).html(e),o){let a=t.data.pricepercentchange&&"NaN"!=thousandSeparatorNum(t.data.pricepercentchange)?thousandSeparatorNum(t.data.pricepercentchange):$(`#${o}`).html(),r=t?.data?.pricepercentchange>0?"green":t?.data?.pricepercentchange<0?"red":"gray";$(`#${o}`).html(a+"%"),$(`#${o}`).removeClass("green"),$(`#${o}`).removeClass("red"),$(`#${o}`).addClass(r)}}},error:function(t){console.log(t)}})}toastr.options={closeButton:!1,debug:!1,newestOnTop:!0,progressBar:!0,positionClass:"toast-bottom-center",preventDuplicates:!1,onclick:null,showDuration:"1000",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},$(document).on("hidden.bs.modal",function(){$(".modal.fade").length&&$("body").removeClass("modal-open")}),$(document).on("hidden.bs.modal",function(){$(".modal.in").length&&$("body").addClass("modal-open")});